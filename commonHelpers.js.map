{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = `44770113-cb4279c01992ac20f8c79d080`;\n\nexport async function getImages(inputText, page) {\n    const promiseValue = await axios.get(`https://pixabay.com/api/?key=${API_KEY}&q=${inputText}&page=${page}`)  //  використання бібліотеки axios + return для отримання масиву\n        .then((response) => response.data.hits)  //  отриманий масив з data.hits\n        .catch((error) => console.log(\"error\", error))\n    return promiseValue;\n}\n\n","const gallery = document.querySelector(\".gallery\");\n\nexport function createMarcup(arr) {\n    // console.log(\"arr\", arr)  //  перевірка вхідного аргументу\n\n    const marcup =  arr.map(\n        ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        <li class=\"container-list\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"img-list\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <ul class=\"container-cart\">\n                <li class=\"list-cart\">\n                    <p class=\"likes-cart\">Likes</p>\n                    <p class=\"number-likes\">${likes}</p>\n                </li>\n                <li class=\"list-cart\">\n                    <p class=\"views-cart\">Views</p>\n                    <p class=\"number-views\">${views}</p>\n                </li>\n                <li class=\"list-cart\">\n                    <p class=\"comments-cart\">comments</p>\n                    <p class=\"number-comments\">${comments}</p>\n                </li>\n                <li class=\"list-cart\">\n                    <p class=\"downloads-cart\">downloads</p>\n                    <p class=\"number-downloads\">${downloads}</p>\n                </li>\n            </ul>\n        </img>\n        </a>\n    </li>\n    `).join(``)\n\n    gallery.insertAdjacentHTML(\"beforeend\", marcup);  //  ф-ція виклику створення скелету розмітки\n}","//  Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//  Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from \"./js/pixabay-api\";\nimport { createMarcup } from \"./js/render-functions\"\n\nconst formSearch = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst buttonLoad = document.querySelector(\".button-load\");\nbuttonLoad.style.display = \"none\";\n\nlet inputText = \"\";\nlet page = 1;\nlet userPhoto = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n});\n\nformSearch.addEventListener(`submit`, handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n    const form = event.target;  \n    // console.log(\"form\", form);  //  перевірка доступу до форми\n    inputText = (form.elements.input.value).trim();\n    // console.log(\"inputText\", inputText);  //  перевірка отриманого значення input\n    if (inputText === \"\") {\n        return\n    } else {\n        getImages(inputText, page)\n            .then((data) => {\n                // console.log(\"data\", data) //  перевірка отриманного масиву\n                if (Number(data.length) === 0) {\n            iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: `topCenter`,\n                progressBarColor: `rgb(255,0,0)`\n            });\n                } else {\n                    gallery.innerHTML = \"\";  //  очистка попереднього контенту\n                    createMarcup(data);\n                    buttonLoad.style.display = \"block\";\n                    userPhoto.refresh();  //  виклик та можливість зміни фото в модальному вікні\n                }\n                // page += 1;\n                console.log(\"page=\", page);\n                if (page > 1) {\n                    // buttonLoad.style.displey = \"block\"; \n                }\n            })\n            .catch((error) => console.log(\"error\", error))\n    }\n    form.reset();\n}\n\nbuttonLoad.addEventListener(`click`, getImages2(inputText, page))\n\nfunction getImages2(inputText, page){\n    console.log(\"getImages2\", inputText, page)\n}\n\n"],"names":["API_KEY","getImages","inputText","page","axios","response","error","gallery","createMarcup","arr","marcup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formSearch","buttonLoad","userPhoto","SimpleLightbox","handlerSubmit","event","form","data","iziToast","getImages2"],"mappings":"owBAEA,MAAMA,EAAU,qCAET,eAAeC,EAAUC,EAAWC,EAAM,CAI7C,OAHqB,MAAMC,EAAM,IAAI,gCAAgCJ,CAAO,MAAME,CAAS,SAASC,CAAI,EAAE,EACrG,KAAME,GAAaA,EAAS,KAAK,IAAI,EACrC,MAAOC,GAAU,QAAQ,IAAI,QAASA,CAAK,CAAC,CAErD,CCTA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAaC,EAAK,CAG9B,MAAMC,EAAUD,EAAI,IAChB,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,4CAExCL,CAAa;AAAA,yCAChBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,8CAIrBC,CAAK;AAAA;AAAA;AAAA;AAAA,8CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iDAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,kDAIPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMtD,EAAE,KAAK,EAAE,EAEVV,EAAQ,mBAAmB,YAAaG,CAAM,CAClD,CCrBA,MAAMQ,EAAa,SAAS,cAAc,OAAO,EAC3CX,EAAU,SAAS,cAAc,UAAU,EAC3CY,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,MAAM,QAAU,OAE3B,IAAIjB,EAAY,GACZC,EAAO,EACPiB,EAAY,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEDH,EAAW,iBAAiB,SAAUI,CAAa,EAEnD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OAEnBrB,EAAasB,EAAK,SAAS,MAAM,MAAO,OAEpCtB,IAAc,KAGdD,EAAUC,EAAWC,CAAI,EACpB,KAAMsB,GAAS,CAER,OAAOA,EAAK,MAAM,IAAM,EAChCC,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,YACV,iBAAkB,cAClC,CAAa,GAEOnB,EAAQ,UAAY,GACpBC,EAAaiB,CAAI,EACjBN,EAAW,MAAM,QAAU,QAC3BC,EAAU,QAAO,GAGrB,QAAQ,IAAI,QAASjB,CAAI,CAIzC,CAAa,EACA,MAAOG,GAAU,QAAQ,IAAI,QAASA,CAAK,CAAC,EAErDkB,EAAK,MAAK,EACd,CAEAL,EAAW,iBAAiB,QAASQ,EAAWzB,EAAWC,CAAI,CAAC,EAEhE,SAASwB,EAAWzB,EAAWC,EAAK,CAChC,QAAQ,IAAI,aAAcD,EAAWC,CAAI,CAC7C"}